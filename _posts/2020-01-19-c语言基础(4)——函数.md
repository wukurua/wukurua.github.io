---
layout:     post
title:      c语言基础(4)——函数
subtitle:   函数
date:       2020-01-20
author:     wukurua
header-img: img/c/post-bg-c.jpg
catalog: true
tags:
    - c
---
# 一、是什么 #

**独立的程序段**

- **独立**：两个函数的使用不相互影响(如何传递数据？)

# 二、作用——>封装标准 
- 提高代码可读性
- 减少代码冗余
- 多次使用
- 易于编程、调试、维护


# 三、分类 #

## 1.库函数 ##

- 预处理（头文件）

## 2.自定义函数 ##

- 声明：返回值类型 函数名称(数据类型);
- 定义：返回值类型 函数名称(数据类型 形参名){//逻辑}
- 使用：函数名称(实参);
- 实参与形参的类型应相同或赋值兼容

# 四、数据传递的三种方式 #

程序的根本目的是处理数据，函数的存在当然也是为了处理数据，但是函数具有独立性，那么函数之间该如何传递数据呢？
此时应该进行传参操作，其实质为**赋值操作**。

## 1.参数 ##

**主调函数调用被调函数，当被调函数的形参被调用时系统为其分配内存空间，把实参的值赋给形参，之后被调函数对形参进行独立操作，当形参调用完毕后，系统释放形参所分配的内存空间。**

(1)单向传递

如果参数为基本数据类型，形参和实参即使名字相同，所分配的内存空间也不同，则存在数据丢失风险⚠

	int swap(int a,int b){......}
	......
	swap(a[0],a[1]);

(2)双向传递：参数为指针	

	int swap(int a[10]){......}
	......
	swap(a);

❗:在被调用函数中声明形参数组的大小是不起作用的，C编译器对形参数组大小不做检查，只是将实参数组的首地址传给形参数组。


## 2.返回值 ##

在Ｃ语言中，凡不加类型说明的函数，自动按整型处理，即其返回值为int类型。

## 3.全局变量 ##

⚠降低函数的独立性、程序的可读性和可维护性

**同名情况下，使用局部变量**

(1)三种变量的区别：

![1PulSx.jpg](https://s2.ax1x.com/2020/01/20/1PulSx.jpg)


(2)变量的存储

系统分为系统区和用户区，而用户编写的程序相关都存储在用户区。
按生命周期角度划分，局部变量属于静态存储方式，全局变量属于动态存储方式

- 静态：由系统分配固定的存储空间，全局变量就存储在   
静态存储区
- 动态：系统根据需要进行动态的分配存储空间，存放以下数据：函数形式参数，自动变量（未加static声明），函数调用时的现场保护和返回地址

以下为用户区内的存储分区：

![1Pu7BF.jpg](https://s2.ax1x.com/2020/01/20/1Pu7BF.jpg)