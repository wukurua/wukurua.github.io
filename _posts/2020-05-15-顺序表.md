---
layout:     post
title:      顺序表
subtitle:   
date:       2020-05-15
author:     wukurua
header-img: img/DS/post-bg-ds.jpg
catalog: true
tags:
    - Data Structure
---

SqList.h

```c++
#ifndef SQLIST_H
#define SQLIST_H
#include<iostream>
using namespace std;

const int initSize=5;

typedef struct
{
	int *data;
	int MaxSize,length;
}SqList;

void listInit(SqList &L);
void listDoubleCapacity(SqList &L);
int listLength(SqList &L);
int locateListElem(SqList &L,int e);//返回查找到的e对应顺序表位序
int getListElem(SqList &L,int i);
bool listInsert(SqList &L,int i,int e);//前插,i为顺序表位序
bool listDelete(SqList &L,int i,int &e);//前插,i为顺序表位序
void listPrint(SqList &L);
bool listEmpty(SqList &L);
void listDestory(SqList &L);

#endif
```

SqList.cpp

```c++
#include "SqList.h"

void listInit(SqList &L)
{
	L.MaxSize=initSize;
	L.length=0;
	L.data=new int[initSize];
}

void listDoubleCapacity(SqList &L)
{
	int *tmp=L.data;
	const int capacity=(L.length/initSize+1)*initSize;
	L.data=new int[capacity];
	for(int i=0;i<L.MaxSize;i++)
		L.data[i]=*(tmp+i);
	L.MaxSize=capacity;
	cout<<"Now the capacity of SqList is "<<L.MaxSize<<endl;
}

int listLength(SqList &L)
{
	return L.length;
}

int locateListElem(SqList &L,int e)
{
	for(int i=0;i<L.length;i++)
		if(L.data[i]==e)
			return i+1;
	return 0;
}

int getListElem(SqList &L,int i)
{
	return L.data[i+1];
}

bool listInsert(SqList &L,int i,int e)
{
	if(i<1||i>L.length+1)
		return false;
	if(L.length>=L.MaxSize)
		listDoubleCapacity(L);
	for(int j=L.length;j>=i;j--)
		L.data[j]=L.data[j-1];
	L.data[i-1]=e;
	L.length++;
	return true;
}

bool listDelete(SqList &L,int i,int &e)
{
	if(i<1||i>L.length)
		return false;
	e=L.data[i-1];
	for(int j=i;j<L.length;j++)
		L.data[j-1]=L.data[j];
	L.length--;
	return true;
}

void listPrint(SqList &L)
{
	for(int i=0;i<L.length-1;i++)
		cout<<L.data[i]<<" ";
	cout<<L.data[L.length-1]<<endl;
}

bool listEmpty(SqList &L)
{
	if(L.length==0)
		return true;
	else
		return false;
}

void listDestory(SqList &L)
{
	delete L.data;
}
```

main.cpp

```c++
#include "SqList.h"
 
int main()
{
	SqList L;
	listInit(L);
	cout<<"isEmpty:"<<listEmpty(L)<<endl;
	cout<<"Insert:"<<endl;
	listInsert(L,1,5);
	listInsert(L,1,4);
	listInsert(L,1,3);
	listInsert(L,1,2);
	listInsert(L,1,1);
	listPrint(L);
	listInsert(L,6,6);
	listPrint(L);
	cout<<"length:"<<listLength(L)<<endl;
	cout<<"fourth:"<<getListElem(L,4)<<endl;
	cout<<"where is 5:"<<locateListElem(L,5)<<endl;
	int e=0;
	listDelete(L,6,e);
	cout<<"delete sixth:"<<e<<endl;
	listPrint(L);
	listDestory(L);
	return 0;
}
```

